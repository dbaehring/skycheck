<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Content Security Policy (temporÃ¤r deaktiviert fÃ¼r Debugging)
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline' https://unpkg.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob: https://a.tile.opentopomap.org https://b.tile.opentopomap.org https://c.tile.opentopomap.org https://a.tile.openstreetmap.org https://b.tile.openstreetmap.org https://c.tile.openstreetmap.org; connect-src 'self' https://api.open-meteo.com;">
    -->

    <!-- === SkyCheck Meta-Tags === -->
    <title>SkyCheck | Sicherer fliegen mit der Wetterampel</title>
    <meta name="description" content="SkyCheck - Detaillierte Gleitschirm-Wetteranalyse in 60 Sekunden. Thermik, Wind, Wolkenbasis auf einen Blick.">
    <meta name="keywords" content="Gleitschirm, Paragliding, Wetter, Meteo, Thermik, Flugwetter, SkyCheck">
    <meta name="author" content="SkyCheck">

    <!-- Open Graph -->
    <meta property="og:title" content="SkyCheck - Paragliding Meteo">
    <meta property="og:description" content="Sicherer fliegen mit der Wetterampel">
    <meta property="og:type" content="website">
    <meta property="og:image" content="./img/logo.svg">

    <!-- PWA Meta-Tags -->
    <meta name="theme-color" content="#4a90d9">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SkyCheck">
    <link rel="manifest" href="./manifest.json">

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="./img/logo.svg">
    <link rel="apple-touch-icon" href="./img/logo.svg">

    <!-- External Resources -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-left">
                <div class="logo-area">
                    <img src="./img/logo.svg" alt="SkyCheck" class="header-logo">
                    <div class="logo-text">
                        <h1>SkyCheck</h1>
                        <p class="subtitle">Sicherer fliegen mit der Wetterampel</p>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <button class="btn-icon" id="aboutBtn" title="Info">
                    <span class="about-icon">i</span>
                </button>
                <div class="theme-toggle">
                    <span class="theme-toggle-label">Design</span>
                    <div class="theme-switch" id="themeToggle" title="Hell/Dunkel umschalten"></div>
                    <button class="contrast-toggle" id="contrastToggle" title="Hoher Kontrast">â—</button>
                </div>
            </div>
        </header>
        <div class="main-layout">
            <div class="map-section">
                <div class="map-header">
                    <h2>Startplatz wÃ¤hlen</h2>
                    <div class="map-header-right">
                        <div class="coords-display" id="coordsDisplay">- klicke auf die Karte -</div>
                        <button class="btn-icon" id="gpsBtn" title="Mein Standort" aria-label="GPS-Standort ermitteln">ğŸ“</button>
                        <button class="btn-icon" id="shareBtn" title="Link teilen" aria-label="Standort-Link teilen" disabled>ğŸ”—</button>
                    </div>
                </div>
                <div id="map"></div>
                <div class="favorites-section hidden" id="favoritesSection">
                    <div class="favorites-header">
                        <span class="favorites-label">â­ Meine Favoriten</span>
                        <button class="favorites-compare-btn" id="favCompareBtn" title="Alle Standorte vergleichen">ğŸ“Š</button>
                    </div>
                    <div class="favorites-buttons" id="favoritesButtons"></div>
                </div>
                <button class="add-favorite-btn" id="addFavoriteBtn" disabled>+ Aktuellen Standort als Favorit speichern</button>
            </div>
            <div class="results-section">
                <div class="initial-state" id="initialState">
                    <div class="initial-state-icon">ğŸ—ºï¸</div>
                    <h3>WÃ¤hle einen Standort</h3>
                    <p>Klicke auf die Karte oder nutze GPS.</p>
                </div>
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Wetterdaten werden abgerufen...</p>
                </div>
                <div id="resultsContainer" style="display: none;">
                    <div class="location-card">
                        <span class="location-name" id="locationName">-</span>
                        <div class="location-details" id="locationDetails">-</div>
                        <div class="model-info"><span>Modell:</span><strong id="modelName">ICON-D2/EU</strong></div>
                        <div id="modelWarning" class="model-warning" style="display: none;">âš ï¸ AuÃŸerhalb ICON-Abdeckung - globales Modell (weniger genau)</div>
                        <div class="forecast-confidence" id="forecastConfidence">
                            <span>ğŸ“Š Prognose-Sicherheit:</span>
                            <span class="stars high" id="confidenceStars">â­â­â­</span>
                            <span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Wettermodelle werden mit zunehmendem Vorhersagezeitraum ungenauer. Heute: hoch, Morgen: mittel, Ãœbermorgen: gering. Am Flugtag nochmals prÃ¼fen!</span></span>
                        </div>
                        <div class="sun-times">
                            <div class="sun-time"><span>â˜€ï¸ Aufgang:</span><span class="sun-time-value" id="sunrise">-</span></div>
                            <div class="sun-time"><span>ğŸŒ™ Untergang:</span><span class="sun-time-value" id="sunset">-</span></div>
                            <div class="sun-time"><span>â±ï¸ Tageslicht:</span><span class="sun-time-value" id="daylight">-</span></div>
                            <div class="sun-time"><span>â„ï¸ 0Â°C-Grenze:</span><span class="sun-time-value" id="freezingLevel">-</span></div>
                            <div class="sun-time"><span>ğŸ“ StationshÃ¶he:</span><span class="sun-time-value" id="stationElevation">-</span></div>
                        </div>
                        <div class="best-window" id="bestWindow">
                            <span class="best-window-icon">â­</span>
                            <span class="best-window-text">Bestes Zeitfenster:</span>
                            <span class="best-window-time" id="bestWindowTime">-</span>
                        </div>
                        <div class="update-info" id="updateInfo">
                            <span>Daten von:</span>
                            <span class="update-info-time" id="updateTime">-</span>
                            <button class="refresh-btn" id="refreshBtn" title="Daten aktualisieren">â†» Neu laden</button>
                        </div>
                        <div class="forecast-change" id="forecastChange">
                            <div class="forecast-change-title">ğŸ“ˆ Ã„nderung seit letztem Laden:</div>
                            <div class="forecast-change-items" id="forecastChangeItems"></div>
                        </div>
                    </div>
                    <nav class="day-comparison" id="dayComparison" role="navigation" aria-label="Tagesauswahl">
                        <h3>ğŸ“… Tag wÃ¤hlen</h3>
                        <div class="day-comparison-grid" id="dayComparisonGrid" role="tablist"></div>
                    </nav>
                    <div class="param-filter-card" role="region" aria-label="Parameter-Filter">
                        <div class="param-filter-header" id="paramFilterToggle">
                            <span class="param-filter-title">ğŸ¯ Ampel-Filter</span>
                            <span class="param-filter-summary" id="paramFilterSummary">Alle Parameter</span>
                            <span class="toggle-icon">â–¼</span>
                        </div>
                        <div class="param-filter-body" id="paramFilterBody">
                            <p class="param-filter-hint">WÃ¤hle, welche Parameter fÃ¼r die Ampel-Bewertung berÃ¼cksichtigt werden:</p>
                            <div class="param-filter-options">
                                <label class="param-filter-option">
                                    <input type="checkbox" id="filterWind" checked>
                                    <span class="param-filter-icon">ğŸ’¨</span>
                                    <span class="param-filter-label">Wind</span>
                                </label>
                                <label class="param-filter-option">
                                    <input type="checkbox" id="filterThermik" checked>
                                    <span class="param-filter-icon">ğŸŒ¡ï¸</span>
                                    <span class="param-filter-label">Thermik</span>
                                </label>
                                <label class="param-filter-option">
                                    <input type="checkbox" id="filterClouds" checked>
                                    <span class="param-filter-icon">â˜ï¸</span>
                                    <span class="param-filter-label">Sicht</span>
                                </label>
                                <label class="param-filter-option">
                                    <input type="checkbox" id="filterPrecip" checked>
                                    <span class="param-filter-icon">ğŸŒ§ï¸</span>
                                    <span class="param-filter-label">Niederschlag</span>
                                </label>
                            </div>
                            <button class="param-filter-reset" id="paramFilterReset">Alle aktivieren</button>
                            <div class="expert-mode-section">
                                <div class="expert-mode-toggle">
                                    <label class="expert-toggle-label">
                                        <input type="checkbox" id="expertModeToggle">
                                        <span class="expert-toggle-switch"></span>
                                        <span class="expert-toggle-text">âš™ï¸ Expertenmodus</span>
                                    </label>
                                    <button class="expert-settings-btn" id="expertSettingsBtn" disabled title="Grenzwerte anpassen">Anpassen</button>
                                </div>
                                <p class="expert-mode-hint" id="expertModeHint">Eigene Grenzwerte fÃ¼r die Ampel-Bewertung definieren</p>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-card" role="region" aria-label="StÃ¼ndlicher Tagesverlauf"><h3>Tagesverlauf (6-20 Uhr)</h3><div class="timeline" id="timeline" role="listbox" aria-label="Stunden auswÃ¤hlen"></div></div>

                    <div class="assessment-card" role="status" aria-live="polite" aria-label="Aktuelle Flugbedingungen">
                        <div class="weather-current" id="weatherCurrent">
                            <span class="weather-icon-text" id="weatherDesc" aria-label="Aktuelles Wetter">-</span>
                            <span class="weather-temp" id="currentTemp" aria-label="Temperatur">-</span>
                        </div>
                        <div class="assessment-status" id="assessmentStatus" role="alert"><span id="statusIcon" aria-hidden="true">â—‹</span><span id="statusText">-</span></div>
                        <div class="reason-summary" id="reasonSummary"><div class="reason-summary-text" id="reasonText"></div></div>
                    </div>
                    <!-- PHASE 2: Beginner Badge -->
                    <div class="beginner-badge" id="beginnerBadge" style="display: none;"></div>
                    <!-- PHASE 2: Risk Explanation -->
                    <div class="risk-explanation" id="riskExplanation" style="display: none;"></div>
                    <div class="killer-warnings" id="killerWarnings">
                        <div class="killer-warnings-header"><span style="font-size: 1.5rem;">ğŸš¨</span><span class="killer-warnings-title">STOPP-Kriterien</span></div>
                        <div class="killer-warnings-subtitle">Bei diesen Bedingungen NICHT fliegen:</div>
                        <div id="killerList"></div>
                    </div>
                    <div class="warnings" id="warnings"><h3>âš ï¸ Weitere Hinweise</h3><div id="warningsList"></div></div>

                    <!-- Tagesverlauf-Diagramme: Wind + Thermik + Live -->
                    <div class="day-diagrams-container">
                        <div class="day-diagram-card" id="windDiagramCard">
                            <div class="diagram-header">
                                <span class="diagram-icon">ğŸ’¨</span>
                                <span class="diagram-title">Wind nach HÃ¶he</span>
                            </div>
                            <div class="wind-profile-wrapper visible" id="windProfileWrapper">
                                <div class="wind-profile-container">
                                    <div class="wind-profile-y-axis">
                                        <span class="y-label">3000m</span>
                                        <span class="y-label">2000m</span>
                                        <span class="y-label">1500m</span>
                                        <span class="y-label">1000m</span>
                                        <span class="y-label">Boden</span>
                                    </div>
                                    <div class="wind-profile-grid" id="windProfileGrid"></div>
                                </div>
                                <div class="wind-profile-x-axis" id="windProfileXAxis"></div>
                                <div class="wind-profile-legend">
                                    <span class="legend-item"><span class="legend-symbol calm">â—‹</span>Windstille</span>
                                    <span class="legend-item"><span class="legend-color green"></span>&lt;15</span>
                                    <span class="legend-item"><span class="legend-color yellow"></span>15-25</span>
                                    <span class="legend-item"><span class="legend-color red"></span>&gt;25 km/h</span>
                                </div>
                            </div>
                        </div>
                        <div class="day-diagram-card" id="thermicWindowCard" role="region" aria-label="Thermik-Zeitfenster">
                            <div class="diagram-header">
                                <span class="diagram-icon">ğŸŒ¡ï¸</span>
                                <span class="diagram-title">Thermik-Zeitfenster<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Zeigt das theoretische Thermik-Potenzial im Tagesverlauf. Berechnet aus: Sonneneinstrahlung, CAPE, Grenzschicht, Spread und Tageszeit. Bei BewÃ¶lkung reduziert sich das Potenzial entsprechend - bei bedecktem Himmel ist trotz "Potenzial" keine echte Thermik zu erwarten!</span></span></span>
                                <span class="diagram-summary" id="thermicSummary">-</span>
                            </div>
                            <div class="thermic-bar-container">
                                <div class="thermic-bar" id="thermicBar"></div>
                                <div class="thermic-time-labels" id="thermicTimeLabels"></div>
                            </div>
                            <div class="thermic-details" id="thermicDetails">
                                <div class="thermic-detail-item">
                                    <span class="thermic-detail-label">ğŸ“ˆ Max. HÃ¶he<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Tagesmaximum der GrenzschichthÃ¶he - hÃ¶chste HÃ¶he, die Thermik an diesem Tag erreichen kann.</span></span>:</span>
                                    <span class="thermic-detail-value" id="thermicMaxHeight">-</span>
                                </div>
                                <div class="thermic-detail-item">
                                    <span class="thermic-detail-label">âš¡ Energie:</span>
                                    <span class="thermic-detail-value" id="thermicEnergy">-</span>
                                </div>
                                <div class="thermic-detail-item">
                                    <span class="thermic-detail-label">â±ï¸ Dauer:</span>
                                    <span class="thermic-detail-value" id="thermicDuration">-</span>
                                </div>
                            </div>
                            <div class="thermic-legend">
                                <span class="thermic-legend-item" title="QualitÃ¤t >60%"><span class="thermic-legend-color strong"></span>Stark</span>
                                <span class="thermic-legend-item" title="QualitÃ¤t 35-60%"><span class="thermic-legend-color moderate"></span>Moderat</span>
                                <span class="thermic-legend-item" title="QualitÃ¤t 15-35%"><span class="thermic-legend-color weak"></span>Schwach</span>
                                <span class="thermic-legend-item" title="QualitÃ¤t <15%"><span class="thermic-legend-color none"></span>Keine</span>
                            </div>
                        </div>
                    </div>

                    <!-- Live-Wind Stationen (OpenWindMap/Pioupiou) -->
                    <div class="live-wind-card" id="liveWindCard" style="display: none;">
                        <div class="live-wind-header">
                            <span class="live-wind-icon">ğŸ“¡</span>
                            <span class="live-wind-title">Live-Wind (Messstationen)</span>
                            <span class="live-wind-badge" id="liveWindBadge" style="display: none;">LIVE</span>
                            <button class="live-wind-refresh" id="liveWindRefresh" title="Aktualisieren" style="display: none;">â†»</button>
                        </div>
                        <button class="live-wind-load-btn" id="liveWindLoadBtn">
                            <span class="load-btn-icon">ğŸ“¡</span>
                            <span class="load-btn-text">Live-Windwerte laden</span>
                            <span class="load-btn-hint">Stationen im Umkreis von 25 km</span>
                        </button>
                        <div class="live-wind-stations" id="liveWindStations">
                            <!-- Wird dynamisch befÃ¼llt -->
                        </div>
                        <div class="live-wind-footer" id="liveWindFooter" style="display: none;">
                            <span class="live-wind-source">Daten: <a href="https://www.openwindmap.org/" target="_blank" rel="noopener noreferrer">OpenWindMap</a></span>
                            <span class="live-wind-note">âš ï¸ Messwerte kÃ¶nnen lokal abweichen</span>
                        </div>
                    </div>

                    <div class="params-controls">
                        <button class="params-control-btn" id="expandAllBtn">ğŸ“‚ Alle aufklappen</button>
                        <button class="params-control-btn" id="collapseAllBtn">ğŸ“ Alle zuklappen</button>
                    </div>

                    <div class="params-grid parameter-grid" role="region" aria-label="Wetterparameter">
                        <div class="param-card full-width expanded" data-card="wind" role="region" aria-label="Windparameter">
                            <div class="param-header"><span class="param-title">ğŸ’¨ Wind (Details)<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Detaillierte Windwerte fÃ¼r die ausgewÃ¤hlte Stunde. GroÃŸer Gradient = Turbulenz. HÃ¶henwind >30 km/h = FÃ¶hngefahr!</span></span></span><span class="param-status" id="windStatus"></span><span class="toggle-icon">â–¼</span></div>
                            <div class="param-body">
                                <div class="wind-table">
                                    <div class="wind-table-header"><span>HÃ¶he</span><span>Geschw.</span><span>Richtung</span></div>
                                    <div class="wind-table-row"><span class="wind-height">Boden (10m)</span><span class="param-value" id="windSurface">-</span><span class="param-value" id="windDirSurface">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">BÃ¶en</span><span class="param-value" id="windGusts">-</span><span class="wind-height">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">BÃ¶igkeit<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Differenz zwischen BÃ¶en und Grundwind. GroÃŸe Unterschiede = unruhige, schwer einschÃ¤tzbare Bedingungen.</span></span></span><span class="param-value" id="gustSpread">-</span><span class="wind-height">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">900 hPa (~1000m)</span><span class="param-value" id="wind900">-</span><span class="param-value" id="windDir900">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">850 hPa (~1500m)</span><span class="param-value" id="wind850">-</span><span class="param-value" id="windDir850">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">800 hPa (~2000m)</span><span class="param-value" id="wind800">-</span><span class="param-value" id="windDir800">-</span></div>
                                    <div class="wind-table-row"><span class="wind-height">700 hPa (~3000m)</span><span class="param-value" id="wind700">-</span><span class="param-value" id="windDir700">-</span></div>
                                    <div class="wind-table-row wind-gradient-row"><span class="wind-height">Gradient (Boden-1500m)</span><span class="param-value" id="windGradient">-</span><span class="wind-height">-</span></div>
                                    <div class="wind-table-row wind-gradient-row"><span class="wind-height">Gradient (Boden-3000m)</span><span class="param-value" id="windGradient3000">-</span><span class="wind-height">-</span></div>
                                </div>
                                <div class="windrose-toggle" id="windroseToggle">
                                    <span>ğŸ§­</span><span id="windroseToggleText">Windrose anzeigen</span>
                                </div>
                                <div class="windrose-wrapper" id="windroseWrapper">
                                    <div class="windrose-container">
                                        <div class="windrose">
                                            <div class="windrose-compass"></div>
                                            <div class="windrose-directions">
                                                <span class="wr-n">N</span>
                                                <span class="wr-s">S</span>
                                                <span class="wr-e">O</span>
                                                <span class="wr-w">W</span>
                                            </div>
                                            <div class="wind-arrow surface" id="windArrowSurface"></div>
                                            <div class="wind-arrow h900" id="windArrow900"></div>
                                            <div class="wind-arrow h850" id="windArrow850"></div>
                                            <div class="wind-arrow h700" id="windArrow700"></div>
                                            <div class="windrose-center"></div>
                                        </div>
                                        <div class="windrose-legend">
                                            <div class="windrose-legend-item"><span class="windrose-legend-color surface"></span><span>Boden</span><span id="windroseSurface">-</span></div>
                                            <div class="windrose-legend-item"><span class="windrose-legend-color h900"></span><span>1000m</span><span id="windrose900">-</span></div>
                                            <div class="windrose-legend-item"><span class="windrose-legend-color h850"></span><span>1500m</span><span id="windrose850">-</span></div>
                                            <div class="windrose-legend-item"><span class="windrose-legend-color h700"></span><span>3000m</span><span id="windrose700">-</span></div>
                                            <div class="windrose-shear-warning" id="windroseShearWarning">âš ï¸ Richtungsscherung erkannt!</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="param-card expanded" data-card="thermik" role="region" aria-label="Thermikparameter">
                            <div class="param-header"><span class="param-title">ğŸŒ¡ï¸ Thermik<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">CAPE zeigt Thermik-Energie. >1000 J/kg = Gewittergefahr! Lifted Index negativ = labile Luft.</span></span></span><span class="param-status" id="thermikStatus"></span><span class="toggle-icon">â–¼</span></div>
                            <div class="param-body">
                                <div class="param-row"><span class="param-label">Temperatur</span><span class="param-value" id="temp2m">-</span></div>
                                <div class="param-row"><span class="param-label">Taupunkt</span><span class="param-value" id="dewpoint">-</span></div>
                                <div class="param-row"><span class="param-label">Spread<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Differenz Temperatur - Taupunkt. Zeigt wie feucht die Luft ist.</span></span></span><span class="param-value" id="spread">-</span></div>
                                <div class="param-row"><span class="param-label">CAPE<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Energie fÃ¼r Konvektion (J/kg). >1000 = hohe Gewittergefahr!</span></span></span><span class="param-value" id="cape">-</span></div>
                                <div class="param-row"><span class="param-label">Lifted Index<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">StabilitÃ¤tsindex. Negativ = labil = krÃ¤ftige Thermik. &lt;-4 = Gewitter!</span></span></span><span class="param-value" id="liftedIndex">-</span></div>
                                <div class="param-row thermik-height-row"><span class="param-label">â˜ï¸ Wolkenbasis<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">GeschÃ¤tzte Untergrenze der Cumulus-Wolken, berechnet aus Spread Ã— 125m + StationshÃ¶he.</span></span></span><span class="param-value" id="cloudBase">-</span></div>
                                <div class="param-row thermik-height-row"><span class="param-label">ğŸ“ˆ Max. Thermik<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">GrenzschichthÃ¶he fÃ¼r die aktuell gewÃ¤hlte Stunde - maximale HÃ¶he, die Thermik zu diesem Zeitpunkt erreichen kann.</span></span></span><span class="param-value" id="boundaryLayer">-</span></div>
                            </div>
                        </div>
                        <div class="param-card expanded" data-card="clouds" role="region" aria-label="Wolken und Sicht">
                            <div class="param-header"><span class="param-title">â˜ï¸ Wolken & Sicht<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Tiefe Wolken (&lt;2000m) sind kritisch - dÃ¤mpfen Thermik und kÃ¶nnen Start eindecken.</span></span></span><span class="param-status" id="cloudStatus"></span><span class="toggle-icon">â–¼</span></div>
                            <div class="param-body">
                                <div class="param-row"><span class="param-label">Gesamt</span><span class="param-value" id="cloudTotal">-</span></div>
                                <div class="param-row"><span class="param-label">Tief (&lt;2km)</span><span class="param-value" id="cloudLow">-</span></div>
                                <div class="param-row"><span class="param-label">Mittel</span><span class="param-value" id="cloudMid">-</span></div>
                                <div class="param-row"><span class="param-label">Hoch</span><span class="param-value" id="cloudHigh">-</span></div>
                                <div class="param-row"><span class="param-label">Sicht</span><span class="param-value" id="visibility">-</span></div>
                                <div class="param-row fog-risk-row"><span class="param-label">Nebelrisiko<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Basiert auf Spread (Temp-Taupunkt), Wind und Sichtweite. Bei wenig Wind und niedrigem Spread kann sich Bodennebel bilden.</span></span></span><span class="param-value" id="fogRisk">-</span></div>
                            </div>
                        </div>
                        <div class="param-card expanded" data-card="precip" role="region" aria-label="Niederschlag">
                            <div class="param-header"><span class="param-title">ğŸŒ§ï¸ Niederschlag<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Jeder Niederschlag ist problematisch - nasser Schirm hat schlechtere Flugeigenschaften!</span></span></span><span class="param-status" id="precipStatus"></span><span class="toggle-icon">â–¼</span></div>
                            <div class="param-body">
                                <div class="param-row"><span class="param-label">Menge (gesamt)</span><span class="param-value" id="precip">-</span></div>
                                <div class="param-row"><span class="param-label">Schauer (konvektiv)<span class="tooltip-container"><span class="info-icon">?</span><span class="tooltip-content">Konvektiver Niederschlag aus Quellwolken/Gewittern - oft lokal und heftig!</span></span></span><span class="param-value" id="convPrecip">-</span></div>
                                <div class="param-row"><span class="param-label">Wahrscheinl.</span><span class="param-value" id="precipProb">-</span></div>
                                <div class="param-row"><span class="param-label">Gewitterrisiko</span><span class="param-value" id="thunderRisk">-</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="sky-footer">
            <div class="footer-content">
                <p class="footer-text">
                    SkyCheck v10.0 | Daten: <a href="https://open-meteo.com/" target="_blank" rel="noopener noreferrer" class="footer-link">Open-Meteo.com</a> (ICON-D2/EU) + <a href="https://www.openwindmap.org/" target="_blank" rel="noopener noreferrer" class="footer-link">OpenWindMap</a>
                </p>
                <p class="footer-disclaimer">
                    <small>SkyCheck ersetzt keine professionelle Wetterberatung. Piloten sind selbst verantwortlich fÃ¼r ihre Flugentscheidungen.</small>
                </p>
            </div>
        </footer>
        <section class="explanation-section">
            <button class="explanation-toggle" id="explanationToggle"><span>ğŸ“– Parameter-Referenz</span><span class="toggle-icon" id="toggleIcon">â–¼</span></button>
            <div class="explanation-content" id="explanationContent">
                <div class="killer-section" id="killerExplainSection">
                    <h3>ğŸš¨ Die 5 STOPP-Kriterien - Immer prÃ¼fen!</h3>
                    <div class="killer-grid">
                        <div class="killer-item"><span class="killer-number">1</span><span class="killer-text"><strong>Gewitter / CB</strong><br>CAPE &gt;1000 J/kg</span></div>
                        <div class="killer-item"><span class="killer-number">2</span><span class="killer-text"><strong>FÃ¶hn / HÃ¶henwind</strong><br>700 hPa &gt;30 km/h</span></div>
                        <div class="killer-item"><span class="killer-number">3</span><span class="killer-text"><strong>Windscherung</strong><br>Gradient &gt;18 km/h</span></div>
                        <div class="killer-item"><span class="killer-number">4</span><span class="killer-text"><strong>Nebel / Sicht</strong><br>Sicht &lt;1.5 km oder Spread &lt;1Â°C</span></div>
                        <div class="killer-item"><span class="killer-number">5</span><span class="killer-text"><strong>Eigene Verfassung</strong><br>MÃ¼de, Druck, Zweifel?</span></div>
                    </div>
                </div>
                <div class="explanation-card" style="margin-bottom: 1rem;">
                    <h4>ğŸŒ Wettermodelle</h4>
                    <table style="width: 100%; font-size: 0.85rem; margin-top: 0.5rem;">
                        <tr><th>Region</th><th>Modell</th><th>AuflÃ¶sung</th><th>Vorhersage</th></tr>
                        <tr><td>Mitteleuropa (D, A, CH)</td><td><strong>ICON-D2</strong></td><td>2.2 km</td><td>48h</td></tr>
                        <tr><td>Europa</td><td><strong>ICON-EU</strong></td><td>7 km</td><td>5 Tage</td></tr>
                        <tr><td>Weltweit</td><td><strong>ECMWF / GFS</strong></td><td>25-50 km</td><td>7-16 Tage</td></tr>
                    </table>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Das jeweils beste verfÃ¼gbare Modell wird automatisch gewÃ¤hlt. HÃ¶here AuflÃ¶sung = genauere lokale Vorhersage.</p>
                </div>

                <div class="explanation-card" style="margin-bottom: 1rem; background: var(--green-bg); border: 1px solid var(--green);">
                    <h4>â­ AnfÃ¤ngerfreundliche Bedingungen</h4>
                    <p style="font-size: 0.85rem; margin-bottom: 0.5rem;">Bei grÃ¼ner Ampel UND diesen Werten erscheint das "AnfÃ¤nger-freundlich"-Badge:</p>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.5rem;">âš ï¸ <strong>Hinweis:</strong> Diese EinschÃ¤tzung basiert nur auf Modelldaten. Lokale EinflÃ¼sse (Talwindsysteme, Lee-Effekte, ThermikauslÃ¶ser) mÃ¼ssen vor Ort selbst bewertet werden!</p>
                    <table>
                        <tr><th>Parameter</th><th>Schwelle</th><th>Warum?</th></tr>
                        <tr><td>Bodenwind</td><td>&lt; 10 km/h</td><td>Entspanntes Aufziehen</td></tr>
                        <tr><td>BÃ¶endifferenz</td><td>&lt; 5 km/h</td><td>Ruhige, laminare Luft</td></tr>
                        <tr><td>HÃ¶henwind (1500m)</td><td>&lt; 15 km/h</td><td>Keine Lee-Gefahr</td></tr>
                        <tr><td>HÃ¶henwind (2000m)</td><td>&lt; 18 km/h</td><td>Ruhige HÃ¶henluft</td></tr>
                        <tr><td>HÃ¶henwind (3000m)</td><td>&lt; 20 km/h</td><td>Kein FÃ¶hn-Risiko</td></tr>
                        <tr><td>Windgradient</td><td>&lt; 8 km/h</td><td>Sanfter Ãœbergang</td></tr>
                        <tr><td>CAPE</td><td>&lt; 200 J/kg</td><td>Sanfte Thermik</td></tr>
                        <tr><td>Sicht</td><td>&gt; 15 km</td><td>Gute Orientierung</td></tr>
                        <tr><td>Spread</td><td>â‰¥ 5Â°C</td><td>Keine Nebelgefahr</td></tr>
                    </table>
                </div>

                <div class="explanation-card" style="margin-bottom: 1rem;">
                    <h4>ğŸ“… Tagesauswahl-Ampel</h4>
                    <p style="font-size: 0.85rem; margin-bottom: 0.5rem;">Die Ampel bei der Tagesauswahl zeigt die Flugchancen des Tages:</p>
                    <table>
                        <tr><th>Status</th><th>Bedeutung</th></tr>
                        <tr><td style="color: var(--green); font-weight: bold;">GO</td><td>â‰¥ 3 Stunden grÃ¼nes Zeitfenster vorhanden</td></tr>
                        <tr><td style="color: var(--yellow); font-weight: bold;">VORSICHT</td><td>1-2 Stunden grÃ¼n ODER keine roten Stunden</td></tr>
                        <tr><td style="color: var(--red); font-weight: bold;">NO-GO</td><td>Kein grÃ¼nes Zeitfenster UND rote Stunden vorhanden</td></tr>
                    </table>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Der beste Tag wird mit goldenem Rahmen markiert (lÃ¤ngstes grÃ¼nes Zeitfenster).</p>
                </div>

                <div class="explanation-intro" id="explanationIntro">
                    <h3>ğŸš¦ Ampel-Schwellwerte</h3>
                    <p>Hier findest du die genauen Grenzwerte fÃ¼r die Ampel-Bewertung.</p>
                    <div class="traffic-light">
                        <span class="light green">GRÃœN = Go</span>
                        <span class="light yellow">GELB = PrÃ¼fen</span>
                        <span class="light red">ROT = No-Go</span>
                    </div>
                </div>
                <div class="explanation-grid">
                    <div class="explanation-card">
                        <h4>ğŸ’¨ Wind</h4>
                        <table>
                            <tr><th>Parameter</th><th>GrÃ¼n</th><th>Gelb</th><th>Rot</th></tr>
                            <tr><td>Bodenwind (10m)</td><td>&lt;12</td><td>12-18</td><td>&gt;18 km/h</td></tr>
                            <tr><td>BÃ¶en</td><td>&lt;15</td><td>15-25</td><td>&gt;25 km/h</td></tr>
                            <tr><td>BÃ¶igkeit (BÃ¶en-Differenz)</td><td>&lt;8</td><td>8-15</td><td>&gt;15 km/h</td></tr>
                            <tr><td>850 hPa (~1500m)</td><td>&lt;18</td><td>18-28</td><td>&gt;28 km/h</td></tr>
                            <tr><td>800 hPa (~2000m)</td><td>&lt;22</td><td>22-30</td><td>&gt;30 km/h</td></tr>
                            <tr><td>700 hPa (~3000m)</td><td>&lt;25</td><td>25-30</td><td>&gt;30 km/h</td></tr>
                            <tr><td>Gradient Bodenâ†”1500m</td><td>&lt;10</td><td>10-18</td><td>&gt;18 km/h</td></tr>
                            <tr><td>Gradient Bodenâ†”3000m</td><td>&lt;15</td><td>15-25</td><td>&gt;25 km/h</td></tr>
                        </table>
                    </div>
                    <div class="explanation-card">
                        <h4>ğŸŒ¡ï¸ Thermik & StabilitÃ¤t</h4>
                        <table>
                            <tr><th>Parameter</th><th>GrÃ¼n</th><th>Gelb</th><th>Rot</th></tr>
                            <tr><td>CAPE</td><td>&lt;300</td><td>300-1000</td><td>&gt;1000 J/kg</td></tr>
                            <tr><td>Lifted Index</td><td>&gt;-2</td><td>-2 bis -4</td><td>&lt;-4</td></tr>
                        </table>
                    </div>
                    <div class="explanation-card">
                        <h4>ğŸŒ«ï¸ Nebel & Sicht</h4>
                        <table>
                            <tr><th>Bedingung</th><th>GrÃ¼n</th><th>Gelb</th><th>Rot</th></tr>
                            <tr><td>Sichtweite</td><td>&gt;5 km</td><td>1.5-5 km</td><td>&lt;1.5 km</td></tr>
                            <tr><td>Spread + wenig Wind</td><td>&gt;3Â°C</td><td>1-3Â°C</td><td>&lt;1Â°C</td></tr>
                        </table>
                        <p class="explanation-note">ğŸ†• <strong>Intelligente Nebel-Erkennung:</strong> Spread allein reicht nicht â€“ SkyCheck kombiniert Spread, Wind und Sichtweite. Bei Wind &gt;12 km/h bildet sich selten Bodennebel. Bei Gelb: Webcams prÃ¼fen!</p>
                    </div>
                    <div class="explanation-card">
                        <h4>â˜ï¸ Wolken</h4>
                        <table>
                            <tr><th>Parameter</th><th>GrÃ¼n</th><th>Gelb</th><th>Rot</th></tr>
                            <tr><td>Tiefe Wolken (&lt;2km)</td><td>&lt;30%</td><td>30-60%</td><td>&gt;60%</td></tr>
                            <tr><td>GesamtbewÃ¶lkung</td><td>&lt;50%</td><td>50-75%</td><td>&gt;75%</td></tr>
                        </table>
                    </div>
                    <div class="explanation-card">
                        <h4>ğŸŒ§ï¸ Niederschlag</h4>
                        <table>
                            <tr><th>Parameter</th><th>GrÃ¼n</th><th>Gelb</th><th>Rot</th></tr>
                            <tr><td>Niederschlagsmenge</td><td>&lt;0.1 mm</td><td>0.1-1 mm</td><td>&gt;1 mm</td></tr>
                            <tr><td>Schauer (konvektiv)</td><td>&lt;0.1 mm</td><td>0.1-0.5 mm</td><td>&gt;0.5 mm</td></tr>
                            <tr><td>Wahrscheinlichkeit</td><td>&lt;30%</td><td>â‰¥30%</td><td>-</td></tr>
                        </table>
                    </div>
                </div>
                <div class="explanation-footer" id="explanationFooter">
                    <h3>ğŸ“Œ Wichtige Hinweise</h3>
                    <ul>
                        <li><strong>Stunden-Ampel:</strong> Die Bewertung zeigt immer den schlechtesten Einzelwert aller Parameter.</li>
                        <li><strong>Bestes Zeitfenster:</strong> LÃ¤ngste zusammenhÃ¤ngende grÃ¼ne Phase (6-20 Uhr), markiert mit â­.</li>
                        <li><strong>Trend-Pfeile:</strong> â†‘ = Wert steigt (meist schlechter), â†“ = Wert sinkt, â†’ = stabil.</li>
                        <li><strong>BÃ¶igkeit:</strong> Differenz zwischen BÃ¶en und Grundwind. &gt;8 km/h = Gelb, &gt;15 km/h = Rot (unruhige Luft).</li>
                        <li><strong>Prognose-Sicherheit:</strong> Heute â­â­â­ (hoch), Morgen â­â­ (mittel), Ãœbermorgen â­ (gering).</li>
                        <li><strong>Lokale VerhÃ¤ltnisse:</strong> Diese App ersetzt nicht den Check vor Ort! Windsack, Wolken und BauchgefÃ¼hl beachten.</li>
                    </ul>
                    <p class="final-note">ğŸª‚ <em>Im Zweifel: Nicht starten! Der Berg ist morgen noch da.</em></p>
                </div>
            </div>
        </section>
    </div>
    <div class="modal-overlay" id="favoriteModal" role="dialog" aria-modal="true" aria-labelledby="favoriteModalTitle">
        <div class="modal">
            <h3 id="favoriteModalTitle">â­ Favorit speichern</h3>
            <input type="text" id="favoriteNameInput" placeholder="Name eingeben..." aria-label="Name des Favoriten" />
            <div class="modal-buttons">
                <button class="modal-btn secondary" id="cancelFavBtn">Abbrechen</button>
                <button class="modal-btn primary" id="saveFavBtn">Speichern</button>
            </div>
            <button class="modal-close" id="closeFavModal" aria-label="Dialog schlieÃŸen" style="position: absolute; top: 0.5rem; right: 0.5rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-muted);">Ã—</button>
        </div>
    </div>
    <!-- BestÃ¤tigungs-Dialog fÃ¼r Favoriten lÃ¶schen -->
    <div class="modal-overlay" id="confirmModal" role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle">
        <div class="modal">
            <h3 id="confirmModalTitle">ğŸ—‘ï¸ Favorit lÃ¶schen?</h3>
            <p id="confirmModalText">MÃ¶chtest du diesen Favoriten wirklich lÃ¶schen?</p>
            <div class="modal-buttons">
                <button class="modal-btn secondary" id="confirmCancelBtn">Abbrechen</button>
                <button class="modal-btn primary" id="confirmOkBtn" style="background: var(--red);">LÃ¶schen</button>
            </div>
        </div>
    </div>
    <div class="toast" id="toast"></div>
    <!-- About Modal -->
    <div class="modal-overlay" id="aboutModal" role="dialog" aria-modal="true" aria-labelledby="aboutModalTitle">
        <div class="modal about-modal">
            <button class="modal-close" id="closeAboutModal" aria-label="Dialog schlieÃŸen">Ã—</button>
            <div class="about-header">
                <img src="./img/logo.svg" alt="SkyCheck Logo" class="about-logo">
                <h2 id="aboutModalTitle">SkyCheck</h2>
                <p class="about-tagline">Sicherer fliegen mit der Wetterampel</p>
                <span class="about-version" id="aboutVersion">v10.0</span>
            </div>
            <div class="about-tabs">
                <button class="about-tab active" data-tab="about">Was ist SkyCheck?</button>
                <button class="about-tab" data-tab="features">Features</button>
                <button class="about-tab" data-tab="limits">Grenzen</button>
            </div>
            <div class="about-content">
                <div class="about-tab-content active" id="tab-about">
                    <p><strong>SkyCheck</strong> analysiert automatisch die wichtigsten Wetterparameter fÃ¼r sicheres Gleitschirmfliegen und zeigt dir auf einen Blick, ob die Bedingungen zum Fliegen geeignet sind.</p>
                    <p>Das <strong>Ampel-System</strong> (GrÃ¼n/Gelb/Rot) bewertet jede Stunde basierend auf Wind, Thermik, Wolken und Niederschlag.</p>
                    <h4>Datenquelle</h4>
                    <p>Die Wetterdaten stammen von <a href="https://open-meteo.com/" target="_blank" rel="noopener noreferrer">Open-Meteo.com</a> und nutzen je nach Region das hochaufgelÃ¶ste ICON-D2 (2.2km) oder ICON-EU (7km) Modell.</p>
                    <p class="about-ref-hint">ğŸ’¡ Detaillierte Schwellwerte findest du in der <strong>Parameter-Referenz</strong> am Seitenende.</p>
                </div>
                <div class="about-tab-content" id="tab-features">
                    <ul class="about-feature-list">
                        <li><span class="feature-icon">ğŸš¦</span> <strong>Wetterampel</strong> mit Stunden-AuflÃ¶sung (6-20 Uhr)</li>
                        <li><span class="feature-icon">ğŸš¨</span> <strong>5 STOPP-Kriterien</strong> - die wichtigsten Gefahren im Blick</li>
                        <li><span class="feature-icon">ğŸ’¨</span> <strong>Wind nach HÃ¶he</strong> - Boden bis 3000m mit Gradient</li>
                        <li><span class="feature-icon">ğŸ§­</span> <strong>Windrose</strong> - Windrichtung auf allen HÃ¶hen</li>
                        <li><span class="feature-icon">ğŸ“Š</span> <strong>Wind-HÃ¶henprofil</strong> - Tagesverlauf nach HÃ¶he</li>
                        <li><span class="feature-icon">â­</span> <strong>Favoriten-System</strong> - deine StartplÃ¤tze speichern</li>
                        <li><span class="feature-icon">ğŸ“±</span> <strong>Offline-fÃ¤hig</strong> - als PWA installierbar</li>
                        <li><span class="feature-icon">ğŸŒŸ</span> <strong>AnfÃ¤nger-Badge</strong> - zeigt perfekte Bedingungen</li>
                        <li><span class="feature-icon">ğŸ“…</span> <strong>3-Tage-Vorschau</strong> mit Tages-Ampel</li>
                    </ul>
                </div>
                <div class="about-tab-content" id="tab-limits">
                    <div class="about-warning-box">
                        <h4>âš ï¸ Wichtige Hinweise</h4>
                        <ul class="about-limits-list">
                            <li>SkyCheck <strong>ersetzt keine professionelle Wetterberatung</strong> und kein eigenes UrteilsvermÃ¶gen.</li>
                            <li><strong>Modelldaten â‰  RealitÃ¤t</strong> - Vorhersagen kÃ¶nnen von den tatsÃ¤chlichen Bedingungen abweichen.</li>
                            <li><strong>Lokale Effekte</strong> (Talwind, Lee, ThermikauslÃ¶ser) werden nicht erfasst.</li>
                            <li>Am Flugtag <strong>immer vor Ort prÃ¼fen</strong>: Windsack, Wolken, BauchgefÃ¼hl!</li>
                            <li>Piloten sind <strong>selbst verantwortlich</strong> fÃ¼r ihre Flugentscheidungen.</li>
                        </ul>
                    </div>
                    <p class="about-motto">ğŸª‚ <em>Im Zweifel: Nicht starten! Der Berg ist morgen noch da.</em></p>
                </div>
            </div>
            <div class="about-footer">
                <a href="#" id="feedbackEmailLink" class="about-feedback-link">ğŸ“§ Feedback senden</a>
                <p class="about-credits">Daten: <a href="https://open-meteo.com/" target="_blank" rel="noopener">Open-Meteo.com</a></p>
            </div>
        </div>
    </div>
    <!-- Favorites Compare Modal -->
    <div class="modal-overlay" id="compareModal" role="dialog" aria-modal="true">
        <div class="modal compare-modal">
            <button class="modal-close" id="closeCompareModal" aria-label="SchlieÃŸen">Ã—</button>
            <h3>ğŸ“Š Standort-Vergleich</h3>
            <div class="compare-grid" id="compareGrid">
                <!-- Wird dynamisch befÃ¼llt -->
            </div>
        </div>
    </div>
    <!-- Expert Mode Modal -->
    <div class="modal-overlay" id="expertModal" role="dialog" aria-modal="true" aria-labelledby="expertModalTitle">
        <div class="modal expert-modal">
            <button class="modal-close" id="closeExpertModal" aria-label="Dialog schlieÃŸen">Ã—</button>
            <div class="expert-header">
                <h2 id="expertModalTitle">âš™ï¸ Expertenmodus</h2>
                <p class="expert-subtitle">Eigene Grenzwerte fÃ¼r die Ampel-Bewertung</p>
            </div>
            <div class="expert-content">
                <div class="expert-presets">
                    <span class="expert-presets-label">Schnellauswahl:</span>
                    <button class="expert-preset-btn" data-preset="beginner">ğŸ“ AnfÃ¤nger</button>
                    <button class="expert-preset-btn active" data-preset="standard">âš–ï¸ Standard</button>
                    <button class="expert-preset-btn" data-preset="pro">ğŸ† Profi</button>
                </div>
                <p class="expert-info">NO-GO Schwellenwerte anpassen. GrÃ¼n-Schwellen werden automatisch berechnet.</p>

                <div class="expert-section">
                    <h3>ğŸ’¨ Wind</h3>
                    <div class="expert-grid">
                        <label class="expert-field">
                            <span class="expert-label">Bodenwind max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertWindSurface" min="5" max="50" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">BÃ¶en max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertWindGusts" min="10" max="60" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">BÃ¶endifferenz max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertGustSpread" min="5" max="30" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Gradient max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertGradient" min="5" max="40" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Wind 1000m max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertWind900" min="10" max="50" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Wind 1500m max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertWind850" min="10" max="60" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Wind 3000m max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertWind700" min="15" max="80" step="1">
                                <span class="expert-unit">km/h</span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="expert-section">
                    <h3>ğŸŒ¡ï¸ Thermik</h3>
                    <div class="expert-grid">
                        <label class="expert-field">
                            <span class="expert-label">CAPE max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertCape" min="100" max="3000" step="100">
                                <span class="expert-unit">J/kg</span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="expert-section">
                    <h3>â˜ï¸ Wolken & Sicht</h3>
                    <div class="expert-grid">
                        <label class="expert-field">
                            <span class="expert-label">Tiefe Wolken max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertCloudLow" min="20" max="100" step="5">
                                <span class="expert-unit">%</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Sicht min</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertVisibility" min="1000" max="20000" step="1000">
                                <span class="expert-unit">m</span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="expert-section">
                    <h3>ğŸŒ§ï¸ Niederschlag</h3>
                    <div class="expert-grid">
                        <label class="expert-field">
                            <span class="expert-label">Niederschlag max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertPrecip" min="0.1" max="5" step="0.1">
                                <span class="expert-unit">mm</span>
                            </div>
                        </label>
                        <label class="expert-field">
                            <span class="expert-label">Regenwahrsch. max</span>
                            <div class="expert-input-wrap">
                                <input type="number" id="expertPrecipProb" min="10" max="80" step="5">
                                <span class="expert-unit">%</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="expert-footer">
                <button class="expert-btn expert-btn-reset" id="expertResetBtn">ZurÃ¼cksetzen</button>
                <button class="expert-btn expert-btn-save" id="expertSaveBtn">Speichern</button>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>
    <script type="module" src="js/main.js"></script>
    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((reg) => console.log('SW registered:', reg.scope))
                    .catch((err) => console.log('SW registration failed:', err));
            });
        }
    </script>
</body>
</html>
